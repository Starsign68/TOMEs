
<!DOCTYPE html>
<html>
  <head>
    <title>The Online JS Editor</title>
    <script
      src="https://unpkg.com/react@17/umd/react.development.js"
      crossorigin
    ></script>
    <script
      src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"
      crossorigin
    ></script>
    <script
      src="https://unpkg.com/prop-types@15.7.2/prop-types.js"
      crossorigin
    ></script>
    <script
      src="https://unpkg.com/state-local@1.0.7/lib/umd/state-local.min.js"
      crossorigin
    ></script>
<!-- Use Monaco React, Copyright (c) 2018 Suren Atoyan -->
   <script
         src="https://unpkg.com/@monaco-editor/loader@1.2.0/lib/umd/monaco-loader.min.js"
         crossorigin
         ></script>
      <script
         src="https://unpkg.com/@monaco-editor/react@4.3.1/lib/umd/monaco-react.min.js"
         crossorigin
         ></script>
  </head>
  <body>
    <div id="app" style="height: 100vh;"></div>

    <script type="text/javascript">
      const e = React.createElement;
      const mode = 'js';

      function App() {
        const Editor = monaco_react.useMonaco();

        return e(Editor, {
          language: "javascript",
          theme: "light",

        });
      }

      const domContainer = document.querySelector("#app");
      ReactDOM.render(e(App), domContainer);
  function download(filename, text) {
  var pom = document.createElement('a');
  pom.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));
  pom.setAttribute('download', filename);
  pom.click();
  return text
}
  function save() {
  var output = window.document.querySelector('#app>section>div>div>div.overflow-guard>div.monaco-scrollable-element.editor-scrollable.vs').innerText;
  var filename = `code.${mode}`;
  if (!filename) return null
  return download(filename, output)
}
      window.addEventListener('keydown', function(event) {
    if ((event.ctrlKey || event.metaKey) && String.fromCharCode(event.which).toLowerCase() == 's') {
      event.preventDefault();
      save()
    }
})
    
    </script>
  </body>
</html>
